/**
 * Dinero Cash - Accessibility & UX Improvements
 *
 * This file contains CSS improvements for:
 * - Skip navigation link functionality
 * - Focus indicators for keyboard navigation
 * - Reduced motion support for accessibility
 * - Button loading states
 * - Other accessibility enhancements
 */

/* ==========================================================================
   SKIP NAVIGATION LINK
   ========================================================================== */

.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: #000;
  color: #fff;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 10000;
  font-family: 'Roboto', sans-serif;
  font-size: 14px;
  transition: top 0.3s ease;
}

.skip-link:focus {
  top: 0;
  outline: 2px solid #fff;
  outline-offset: -2px;
}

/* ==========================================================================
   FOCUS INDICATORS
   ========================================================================== */

/* Improve focus visibility for keyboard navigation */
.button:focus,
a:focus,
input:focus,
textarea:focus,
select:focus,
button:focus {
  outline: 3px solid #4d90fe;
  outline-offset: 2px;
}

/* Specific button focus styles */
.button.with-margins:focus,
.button.light:focus,
.button.small:focus,
.button.outline:focus {
  outline: 3px solid #4d90fe;
  outline-offset: 3px;
}

/* Nav link focus */
.nav-link:focus,
.footer-link:focus {
  outline: 2px solid #4d90fe;
  outline-offset: 2px;
  background-color: rgba(77, 144, 254, 0.1);
}

/* Feature box focus for keyboard users */
.feature-box:focus {
  outline: 3px solid #4d90fe;
  outline-offset: 3px;
}

/* Tab link focus */
.tab-link:focus {
  outline: 2px solid #4d90fe;
  outline-offset: 2px;
}

/* ==========================================================================
   REDUCED MOTION SUPPORT
   ========================================================================== */

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Disable auto-play sliders for users who prefer reduced motion */
  .hero-slider[data-autoplay="true"] {
    animation: none !important;
  }

  .features-popup-slider[data-autoplay="false"] {
    animation: none !important;
  }

  /* Pause all animations */
  .lottie-animation,
  [data-animation-type="lottie"] {
    animation: none !important;
  }
}

/* ==========================================================================
   BUTTON LOADING STATES
   ========================================================================== */

.button.loading {
  position: relative;
  pointer-events: none;
  opacity: 0.7;
  color: transparent !important;
}

.button.loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  top: 50%;
  left: 50%;
  margin-left: -8px;
  margin-top: -8px;
  border: 2px solid #fff;
  border-radius: 50%;
  border-top-color: transparent;
  animation: spin 0.6s linear infinite;
}

.button.light.loading::after {
  border: 2px solid #000;
  border-top-color: transparent;
}

.button.outline.loading::after {
  border: 2px solid currentColor;
  border-top-color: transparent;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* ==========================================================================
   FORM ACCESSIBILITY
   ========================================================================== */

/* Improve form input visibility */
.text-field:focus,
.text-area:focus {
  border-color: #4d90fe;
  box-shadow: 0 0 0 3px rgba(77, 144, 254, 0.1);
}

/* Error states */
.text-field[aria-invalid="true"],
.text-area[aria-invalid="true"] {
  border-color: #dc3545;
}

.text-field[aria-invalid="true"]:focus,
.text-area[aria-invalid="true"]:focus {
  box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
}

/* ==========================================================================
   ADDITIONAL ACCESSIBILITY ENHANCEMENTS
   ========================================================================== */

/* Ensure high contrast for interactive elements */
a:hover,
.button:hover {
  text-decoration: underline;
}

.button:hover {
  text-decoration: none;
}

/* Improve visibility of slider navigation */
.heroslider-left:focus,
.heroslider-right:focus {
  outline: 2px solid #4d90fe;
  outline-offset: 2px;
  opacity: 1;
}

/* Feature popup controls focus */
.featuresslider-left:focus,
.featuresslider-right:focus {
  outline: 2px solid #4d90fe;
  outline-offset: 2px;
}

/* Close popup button focus */
.demo-popup-close:focus,
.contact-popup-close:focus,
.features-popup-close:focus {
  outline: 2px solid #4d90fe;
  outline-offset: 2px;
}

/* ==========================================================================
   RESPONSIVE ACCESSIBILITY
   ========================================================================== */

/* Ensure touch targets are at least 44x44px on mobile */
@media (max-width: 767px) {
  .nav-link,
  .footer-link,
  .hero-slider-dot,
  .feature-box {
    min-height: 44px;
    min-width: 44px;
  }

  .button {
    min-height: 48px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
}

/* ==========================================================================
   PRINT STYLES
   ========================================================================== */

@media print {
  .skip-link,
  .navigation-section,
  .demo-popup-wrapper,
  .contact-popup-wrapper,
  .hero-slider-arrow,
  .hero-slide-nav {
    display: none !important;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
  }

  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
  }
}
