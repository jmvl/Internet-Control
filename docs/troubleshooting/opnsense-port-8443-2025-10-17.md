# OPNsense Web UI Port Configuration

**Date:** 2025-10-17
**Issue:** OPNsense web UI accessibility
**Resolution:** Port updated from default 443 to 8443

---

## Summary

OPNsense firewall web UI is accessible on **port 8443** instead of the default HTTPS port 443.

## Configuration Details

**Web UI Access:**
- **URL:** `https://192.168.1.3:8443`
- **Protocol:** HTTPS
- **Port:** 8443 (non-standard)
- **Default Port:** 443 (not used)

## Reason for Port Change

The non-standard port 8443 is likely configured for:
1. **Security through obscurity** - Reduces automated attacks on default HTTPS port
2. **Port conflict avoidance** - Frees up port 443 for reverse proxy or other services
3. **Separation of concerns** - Distinguishes management interface from regular web traffic

## Monitoring Configuration

**Uptime Kuma Monitor:**
- **Monitor Name:** ðŸ”´ OPNsense Firewall
- **Monitor ID:** 11
- **URL:** `https://192.168.1.3:8443`
- **Type:** HTTP(S)
- **Check Interval:** 60 seconds
- **TLS Validation:** Disabled (self-signed certificate)

## Impact on Infrastructure

**Services Affected:**
- Uptime Kuma monitoring (updated to port 8443)
- Ansible automation scripts (if any)
- Documentation references

**Services Not Affected:**
- Firewall functionality (rules, NAT, routing)
- Gateway operations
- DHCP server
- DNS forwarding
- VPN services

## Related Files Updated

1. **Setup Script:** `/infrastructure-db/monitoring/setup-uptime-kuma.py`
   - Line 82: Updated to `url="https://192.168.1.3:8443"`

2. **Documentation:** `/infrastructure-db/monitoring/MONITOR-STRATEGY.md`
   - Line 57: Updated to `https://192.168.1.3:8443`

3. **This File:** `/docs/troubleshooting/opnsense-port-8443-2025-10-17.md`

## Verification

To verify OPNsense web UI is accessible:

```bash
# Check port 8443 is open
curl -k -I https://192.168.1.3:8443

# Expected response: HTTP 200 or redirect to login page
```

## Future Considerations

**If port needs to be changed back to 443:**
1. Log into OPNsense web UI at `https://192.168.1.3:8443`
2. Navigate to System â†’ Settings â†’ Administration
3. Change "TCP port" from 8443 to 443
4. Update monitoring configuration
5. Update documentation

## Related Documentation

- **Monitoring Strategy:** `/infrastructure-db/monitoring/MONITOR-STRATEGY.md`
- **Setup Script:** `/infrastructure-db/monitoring/setup-uptime-kuma.py`
- **Infrastructure Overview:** `/infrastructure-db/INFRASTRUCTURE-OVERVIEW.md`

---

**Status:** Documented and resolved
**Last Updated:** 2025-10-17
**Severity:** Low (configuration documentation)
